{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\0. JP20-2\\\\Post Training\\\\reactjs\\\\JPokedex\\\\jpokedex\\\\src\\\\Pages\\\\SearchPage\\\\SearchPage.jsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { gql, useQuery } from '@apollo/client';\nimport PokemonCard from \"../../Components/PokemonCard/PokemonCard\";\nimport './SearchPage.scss';\nimport { Card, Grid, Header, Icon, Image, Label, Placeholder, Search, Segment } from \"semantic-ui-react\";\nimport 'semantic-ui-css/semantic.min.css';\nimport { css } from \"@emotion/css\";\nimport _ from \"lodash\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SearchPage() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [displayPokemons, setDisplayPokemon] = useState([]);\n  var maxPage;\n  let searchString = '';\n  console.log(searchString);\n  const POKEMON_QUERY = gql`\n    query pokemons {\n        pokemons(limit: 999999, offset: 0) {\n          count\n          next\n          previous\n          status\n          message\n          results {\n            url\n            name\n            image\n          }\n        }\n      }\n    `;\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(POKEMON_QUERY, {});\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"list-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css`\n            display:flex;\n            align-items:center;\n            justify-content:center;\n            padding: 1% 0;\n            background-color: #1b1c1d;\n            width:100%;\n\n            \n        `,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css`\n            display:flex;                    \n            align-items:center;\n            justify-content:flex-end;\n            padding: 1% 0;\n        `,\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          onClick: () => {},\n          icon: null,\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: css`\n                    position:absolute;\n                `,\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            className: css`cursor:pointer;`,\n            onClick: () => {\n              setDisplayPokemon(pokemons.filter(pokemon => {\n                return pokemon.name.includes(searchString);\n              }));\n            },\n            name: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 23\n  }, this);\n  maxPage = Math.round(data.pokemons.count / 18);\n  console.log(maxPage);\n  console.log(data);\n  let pokemons = data.pokemons.results;\n  let searchValue = '';\n  const initialState = {\n    loading: false,\n    results: [],\n    value: ''\n  };\n\n  function searchReducer(state, action) {\n    switch (action.type) {\n      case 'CLEAN_QUERY':\n        return initialState;\n\n      case 'START_SEARCH':\n        return { ...state,\n          loading: true,\n          value: action.query\n        };\n\n      case 'FINISH_SEARCH':\n        return { ...state,\n          loading: false,\n          results: action.results\n        };\n\n      case 'UPDATE_SELECTION':\n        searchString = action.selection;\n        return { ...state,\n          value: action.selection\n        };\n\n      default:\n        throw new Error();\n    }\n  }\n\n  const resultRenderer = ({\n    name\n  }) => /*#__PURE__*/_jsxDEV(Label, {\n    content: name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 44\n  }, this);\n\n  function SearchPokemon() {\n    _s();\n\n    const [state, dispatch] = React.useReducer(searchReducer, initialState);\n    const {\n      loading,\n      results,\n      value\n    } = state;\n    const timeoutRef = React.useRef();\n    const handleSearchChange = React.useCallback((e, data) => {\n      clearTimeout(timeoutRef.current);\n      searchString = data.value;\n      dispatch({\n        type: 'START_SEARCH',\n        query: data.value\n      });\n      timeoutRef.current = setTimeout(() => {\n        if (data.value.length === 0) {\n          dispatch({\n            type: 'CLEAN_QUERY'\n          });\n          return;\n        }\n\n        const re = new RegExp(_.escapeRegExp(data.value), 'i');\n\n        const isMatch = result => re.test(result.name);\n\n        dispatch({\n          type: 'FINISH_SEARCH',\n          results: _.filter(pokemons, isMatch)\n        });\n      }, 300);\n    }, []);\n    React.useEffect(() => {\n      return () => {\n        clearTimeout(timeoutRef.current);\n      };\n    }, []);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css`\n            display:flex;\n            align-items:center;\n            justify-content:center;\n            padding: 1% 0;\n            background-color: #1b1c1d;\n            width:100%;\n\n        `,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css`\n            display:flex;                    \n            align-items:center;\n            justify-content:flex-end;\n            padding: 1% 0;\n        `,\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          loading: loading,\n          onResultSelect: (e, data) => dispatch({\n            type: 'UPDATE_SELECTION',\n            selection: data.result.name\n          }),\n          onSearchChange: handleSearchChange,\n          resultRenderer: resultRenderer,\n          results: results,\n          value: value,\n          icon: null,\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: css`\n                    position:absolute;\n                `,\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            className: css`cursor:pointer;`,\n            onClick: () => {\n              setDisplayPokemon(pokemons.filter(pokemon => {\n                return pokemon.name.includes(searchString);\n              }));\n            },\n            name: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this);\n  }\n\n  _s(SearchPokemon, \"eyK34sYtN/wGlobeW5QOJcopodM=\");\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"list-page\",\n    children: [/*#__PURE__*/_jsxDEV(SearchPokemon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card.Group, {\n      doubling: true,\n      itemsPerRow: 8,\n      className: \"card-container \",\n      children: displayPokemons === null || displayPokemons === void 0 ? void 0 : displayPokemons.map(pokemon => {\n        return /*#__PURE__*/_jsxDEV(PokemonCard, {\n          pokemon: pokemon\n        }, pokemon.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(SearchPage, \"RpTfCyY4Ckp+yhuC46IG53vrty8=\", false, function () {\n  return [useQuery];\n});\n\n_c = SearchPage;\nexport default SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"sources":["C:/Users/User/Documents/0. JP20-2/Post Training/reactjs/JPokedex/jpokedex/src/Pages/SearchPage/SearchPage.jsx"],"names":["React","useState","useEffect","gql","useQuery","PokemonCard","Card","Grid","Header","Icon","Image","Label","Placeholder","Search","Segment","css","_","SearchPage","displayPokemons","setDisplayPokemon","maxPage","searchString","console","log","POKEMON_QUERY","loading","error","data","pokemons","filter","pokemon","name","includes","Math","round","count","results","searchValue","initialState","value","searchReducer","state","action","type","query","selection","Error","resultRenderer","SearchPokemon","dispatch","useReducer","timeoutRef","useRef","handleSearchChange","useCallback","e","clearTimeout","current","setTimeout","length","re","RegExp","escapeRegExp","isMatch","result","test","map"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from \"react\"\r\n\r\nimport {gql, useQuery} from '@apollo/client';\r\nimport PokemonCard from \"../../Components/PokemonCard/PokemonCard\";\r\nimport './SearchPage.scss';\r\nimport { Card,  Grid,  Header,  Icon,  Image,  Label,  Placeholder, Search, Segment } from \"semantic-ui-react\";\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport { css } from \"@emotion/css\";\r\nimport _ from \"lodash\";\r\n\r\n\r\nfunction SearchPage(){\r\n\r\n    \r\n    const [displayPokemons, setDisplayPokemon]=useState([]);\r\n    var maxPage;\r\n    let searchString='';\r\n    console.log(searchString)\r\n\r\n    const POKEMON_QUERY=gql`\r\n    query pokemons {\r\n        pokemons(limit: 999999, offset: 0) {\r\n          count\r\n          next\r\n          previous\r\n          status\r\n          message\r\n          results {\r\n            url\r\n            name\r\n            image\r\n          }\r\n        }\r\n      }\r\n    `\r\n\r\n    const{loading ,error, data}=useQuery(POKEMON_QUERY,{\r\n\r\n    })\r\n\r\n    if(loading)return <div id=\"list-page\" >\r\n     <div className={css`\r\n            display:flex;\r\n            align-items:center;\r\n            justify-content:center;\r\n            padding: 1% 0;\r\n            background-color: #1b1c1d;\r\n            width:100%;\r\n\r\n            \r\n        `}>\r\n            <div className={css`\r\n            display:flex;                    \r\n            align-items:center;\r\n            justify-content:flex-end;\r\n            padding: 1% 0;\r\n        `}>\r\n                <Search\r\n                onClick={()=>{}}\r\n                icon={null}\r\n                size=\"small\"/>\r\n                <div className={css`\r\n                    position:absolute;\r\n                `}>\r\n                    <Icon \r\n                    className={css`cursor:pointer;`}\r\n                    onClick={()=>{\r\n                        setDisplayPokemon(pokemons.filter((pokemon)=>{\r\n                            return pokemon.name.includes(searchString);\r\n                        }));\r\n                    }} name='search'/>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n</div>\r\n    \r\n   \r\n    maxPage=Math.round(data.pokemons.count/18);\r\n    console.log(maxPage);\r\n    console.log(data);\r\n    let pokemons=data.pokemons.results;\r\n    let searchValue=''\r\n    const initialState = {\r\n        loading: false,\r\n        results: [],\r\n        value: '',\r\n    };\r\n    function searchReducer(state, action) {\r\n        switch (action.type) {\r\n          case 'CLEAN_QUERY':\r\n            return initialState\r\n          case 'START_SEARCH':\r\n            return { ...state, loading: true, value: action.query }\r\n          case 'FINISH_SEARCH':\r\n            return { ...state, loading: false, results: action.results }\r\n          case 'UPDATE_SELECTION':\r\n            searchString=action.selection;\r\n      \r\n            return { ...state, value: action.selection }\r\n          default:\r\n            throw new Error()\r\n        }\r\n      }\r\n      const resultRenderer = ({ name }) => <Label content={name} />\r\n      \r\n    function SearchPokemon() {\r\n    const [state, dispatch] = React.useReducer(searchReducer, initialState)\r\n    const { loading, results, value } = state\r\n    \r\n    const timeoutRef = React.useRef()\r\n    const handleSearchChange = React.useCallback((e, data) => {\r\n      clearTimeout(timeoutRef.current)\r\n      searchString=data.value;\r\n      dispatch({ type: 'START_SEARCH', query: data.value })\r\n  \r\n      timeoutRef.current = setTimeout(() => {\r\n        if (data.value.length === 0) {\r\n          dispatch({ type: 'CLEAN_QUERY' })\r\n          return\r\n        }\r\n  \r\n        const re = new RegExp(_.escapeRegExp(data.value), 'i')\r\n        const isMatch = (result) => re.test(result.name)\r\n  \r\n        dispatch({\r\n          type: 'FINISH_SEARCH',\r\n          results: _.filter(pokemons, isMatch),\r\n        })\r\n      }, 300)\r\n    }, [])\r\n    React.useEffect(() => {\r\n      return () => {\r\n        clearTimeout(timeoutRef.current)\r\n      }\r\n    }, [])\r\n  \r\n    return (\r\n        <div className={css`\r\n            display:flex;\r\n            align-items:center;\r\n            justify-content:center;\r\n            padding: 1% 0;\r\n            background-color: #1b1c1d;\r\n            width:100%;\r\n\r\n        `}>\r\n            <div className={css`\r\n            display:flex;                    \r\n            align-items:center;\r\n            justify-content:flex-end;\r\n            padding: 1% 0;\r\n        `}>\r\n                <Search\r\n                loading={loading}\r\n                onResultSelect={(e, data) =>dispatch({ type: 'UPDATE_SELECTION', selection: data.result.name })}\r\n                onSearchChange={handleSearchChange}\r\n                resultRenderer={resultRenderer}\r\n                results={results}\r\n                value={value}\r\n                icon={null}\r\n                size=\"small\"/>\r\n                <div className={css`\r\n                    position:absolute;\r\n                `}>\r\n                    <Icon \r\n                    className={css`cursor:pointer;`}\r\n                    onClick={()=>{\r\n                        setDisplayPokemon(pokemons.filter((pokemon)=>{\r\n                            return pokemon.name.includes(searchString);\r\n                        }));\r\n                    }} name='search'/>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n\r\n\r\n        \r\n    )\r\n  }\r\n  \r\n    return (\r\n        \r\n        <div id=\"list-page\">\r\n            <SearchPokemon/>\r\n            <Card.Group doubling itemsPerRow={8} className=\"card-container \">\r\n                {displayPokemons?.map(pokemon=>{\r\n                    return <PokemonCard key={pokemon.name} pokemon={pokemon}/>\r\n                })}\r\n            </Card.Group>\r\n        </div>\r\n        \r\n    )\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default SearchPage"]},"metadata":{},"sourceType":"module"}